# 会话状态文件
# AI 助手在每轮会话结束时更新此文件
# 新会话开始时首先读取此文件
# 填写说明：替换所有 [...] 为实际内容

meta:
  project: "[项目名称]"
  version: "[当前版本]"
  updated: "[YYYY-MM-DD]"       # 每次会话结束必须更新
  session_count: 1              # 每次会话 +1

# === 系统状态 ===
system:
  phase: "[pre-implementation | day-N | maintenance]"

  key_decisions:                # 已确定的技术/架构决策，不可随意推翻
    - "[决策1：选择了 X 而不是 Y，原因是...]"

# === 当前任务 ===
tasks:
  active:                       # 本次会话正在做的（进行中）
    []

  next:                         # 下次会话应该做的（首要任务）
    - id: "[TASK-001]"
      desc: "[任务描述]"
      subtasks:
        - "[子任务1]"
        - "[子任务2]"
      deliverable: "[完成标志：例如「文件拖入 inbox → 终端打印日志」]"

  completed:                    # 已完成，含完成日期
    []
    # 格式示例：
    # - id: "TASK-000"
    #   desc: "项目初始化"
    #   done: "2026-01-01"

# === 已知问题 ===
issues:
  open:
    []
    # 格式示例：
    # - id: "BUG-001"
    #   desc: "描述"
    #   severity: "low | medium | high"

  closed:
    []

# === 待决策项 ===
decisions_pending:              # 遇到不确定的设计决策，记录在这里等用户确认
  []
  # 格式示例：
  # - id: "DEC-001"
  #   question: "数据库用 SQLite 还是 PostgreSQL？"
  #   options: ["SQLite（简单）", "PostgreSQL（可扩展）"]
  #   context: "目前是单用户个人工具"

# === 快速参考 ===
quickref:
  dev_spec: "[主规格文档路径]"
  protocol: "docs/DOCUMENT_PROTOCOL.md"
  tech_stack:
    "[层次]": "[技术栈描述]"

# === 首读流程 ===
reading_order:
  - file: PROJECT_CONTEXT.md
    status: prerequisite
    purpose: "项目概况（必读）"

  - file: SESSION_STATE.yaml
    status: current
    purpose: "任务状态（本文件）"

  - file: "[主规格文档].md"
    status: on_demand
    purpose: "完整开发规格（实现时按需读对应章节）"

  - file: docs/DOCUMENT_PROTOCOL.md
    status: on_demand
    purpose: "AI 协作规范"
